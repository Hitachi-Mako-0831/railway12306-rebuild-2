# ============================================
# REQ-0: 首页设计与导航
# 负责人: [待填写]
# 关联前端:
#   - frontend/src/views/HomePage.vue             (首页主视图)
#   - frontend/src/components/Header12306.vue     (顶部导航与全局搜索)
#   - frontend/src/components/SectionFirst12306.vue (首屏轮播与查询模块)
#   - frontend/src/components/LoginFooter.vue      (底部版权与链接)
# 关联后端:
#   - 无直接接口调用。通过路由跳转与其他模块复用以下能力:
#     - 车票查询与展示: backend/app/api/v1/endpoints/trains.py (见 REQ-1 契约)
#     - 用户认证与个人中心: backend/app/api/v1/endpoints/auth.py, users.py (见 REQ-2 契约)
#     - 订单系统与乘客管理: backend/app/api/v1/endpoints/orders.py, passengers.py (见 REQ-3, REQ-4 契约)
# ============================================

id: REQ-0
name: 首页设计与导航
functional_description: |
  首页作为整个系统的统一入口，复刻中国铁路12306官网的整体布局、配色与交互节奏。
  顶部导航 Header12306 与底部 LoginFooter 被设计为可复用的全局布局组件，所有功能页面应统一引用这些组件，
  而不是各自实现一套头部和底部，以保证品牌形象一致、登录入口统一、导航行为一致。
  主要职责:
  - 承载首屏车票查询与轮播宣传图，吸引用户直接进行购票行为。
  - 提供统一的顶部导航与全局搜索入口，集中展示登录状态和“我的12306”。
  - 通过服务快捷入口引导用户进入订单查询、乘客管理、个人中心等子模块。
  - 展示最新公告、常见问题与信用信息，提升信息透明度和权威感。
ui_description: |
  参考图片路径: requirements/assets/0.首页设计/0.png
  整体采用 12306 经典蓝白配色，页面结构自上而下为:
  - 顶部导航栏: 包含 Logo、全局搜索条、实用链接、登录入口与“我的12306”菜单。
  - 首屏区域: 左侧或背景为全屏轮播图，前景为车票查询卡片与侧边功能标签。
  - 服务入口区: 可选的功能入口卡片区域（本次复刻可不实现）。
  - 服务大图区: 可选的大图展示区（本次复刻可不实现）。
  - 新闻公告区: 可选的公告与常见问题区域（本次复刻可不实现）。
  - 页脚区域: 版权信息与若干底部链接。
scenarios:
  - name: 首次访问首页
    steps:
      - action: 未登录用户访问根路径 /
        expectation: 页面显示首页布局，顶部展示“登录/注册”链接，首屏车票查询卡片位于轮播前景。
  - name: 登录后返回首页
    steps:
      - action: 用户在登录成功后跳转回首页
        expectation: 顶部导航显示用户名或昵称，“我的12306”菜单可展开，登录入口替换为用户信息入口。
  - name: 从首页进入车票查询
    steps:
      - action: 在首屏车票查询模块填写出发地、到达地和日期并点击查询
        expectation: 路由跳转到车票查询页面，查询条件自动带入，对应接口行为见 REQ-1。

children:
  # ------------------------------------------
  # REQ-0-1: 顶部导航与全局搜索 (Header12306)
  # ------------------------------------------
  - id: REQ-0-1
    name: 顶部导航与全局搜索
    functional_description: |
      提供统一的顶部导航区域，包含 Logo、全局搜索框、实用链接和“我的12306”入口。
      - 根据登录态展示“登录/注册”或用户名与下拉菜单。
      - 全局搜索支持输入关键字并记录搜索历史。
      - 顶部菜单包含“首页”“车票”“团购服务”“会员服务”“站车服务”等主导航项。
      该导航区域由 Header12306 组件提供，需在登录、注册、车票查询、订单系统、乘客管理等所有主页面中复用，
      以避免出现多个风格不一致的头部实现。
    ui_description: |
      参考图片路径: requirements/assets/0.首页设计/0.1.png
      头部高度约 120px，居中布局，左侧为图形 Logo，右侧为搜索框与实用链接。
    scenarios:
      - name: 顶部导航路由跳转
        steps:
          - action: 点击主导航中的“首页”“车票”“信息查询”
            expectation: 分别跳转到首页、车票查询和订单查询等对应页面。
      - name: 登录入口展示
        steps:
          - action: 未登录状态下访问首页
            expectation: 顶部右侧展示“登录”“注册”按钮，点击后跳转到相应页面。
      - name: 我的12306菜单
        steps:
          - action: 登录用户将鼠标悬停或点击“我的12306”
            expectation: 展开下拉菜单，展示“我的订单”“乘客信息”等子项，点击后路由跳转。
    children:
      - id: REQ-0-1-1
        name: Logo 与品牌区域
        functional_description: |
          展示“中国铁路12306”品牌标识，作为返回首页的显著入口。
          点击 Logo 时应始终返回首页根路径。
        ui_description: |
          参考图片路径: requirements/assets/0.首页设计/0.1.1.png
          使用背景图方式渲染 logo，文本对视觉用户隐藏但保留可访问性标签。
        scenarios:
          - name: 点击 Logo 回到首页
            steps:
              - action: 在任意页面点击头部 Logo 区域
                expectation: 路由跳转到 /，并更新页面标题为“首页”。

      - id: REQ-0-1-2
        name: 全局搜索关键词条
        functional_description: |
          顶部搜索框用于搜索与车票、餐饮、常旅客、相关规章等相关的关键字。
          输入后可按回车提交，并记录最新若干条搜索历史。
        ui_description: |
          参考图片路径: requirements/assets/0.首页设计/0.1.2.png
          搜索框位于头部中部，支持获得焦点时展开下拉建议与历史记录区域。
        scenarios:
          - name: 搜索关键字并记录历史
            steps:
              - action: 在搜索框输入关键字并按回车
                expectation: 下方区域将关键字插入历史记录列表，后续可一键再次应用。

      - id: REQ-0-1-3
        name: 登录状态与我的12306
        functional_description: |
          根据用户登录状态切换展示:
          - 未登录: 展示“请登录”“注册”链接。
          - 已登录: 展示用户名、退出按钮和“我的12306”菜单。
          点击退出时调用统一退出逻辑并回到首页。
        ui_description: |
          参考图片路径: requirements/assets/0.首页设计/0.1.3.png
          用户名展示在头部右侧区域，下拉菜单采用与官网一致的配色与阴影效果。
        scenarios:
          - name: 退出登录并返回首页
            steps:
              - action: 登录用户在顶部导航中点击“退出”
                expectation: 清理本地登录状态，并自动跳转回首页根路径。

      - id: REQ-0-1-4
        name: 车票下拉导航目录
        functional_description: |
          顶部主导航中的“车票”菜单提供下拉目录，集中入口跳转到各类车票相关页面。
          - 支持“单程”“往返”“中转换乘”等子菜单。
          - 点击子菜单时，通过路由跳转进入对应查询页面，并自动聚焦到车票查询模块。
          - 与首页首屏查询模块复用同一套查询逻辑和接口能力。
        ui_description: |
          参考图片路径: requirements/assets/0.首页设计/0.1.4.png
          鼠标悬停或点击“车票”时，下方出现带阴影的下拉面板，内部按列分组展示可点击的文本链接。
        scenarios:
          - name: 通过“车票”下拉目录进入车票查询
            steps:
              - action: 在任意页面的顶部导航中，将鼠标悬停在“车票”并点击下拉中的“单程”
                expectation: 路由跳转到车票查询页面，默认选中“单程”查询，查询行为遵循 REQ-1 相关约束。
          - name: 从其他页面复用“车票”下拉目录
            steps:
              - action: 在订单查询或乘客管理等页面的顶部导航中，打开“车票”下拉目录并点击任一子项
                expectation: 路由跳转到对应车票相关页面，Header12306 组件在各页面中保持一致的导航行为。

  # ------------------------------------------
  # REQ-0-2: 首屏轮播与查询模块 (SectionFirst12306)
  # ------------------------------------------
  - id: REQ-0-2
    name: 首屏轮播与查询模块
    functional_description: |
      首页首屏包含背景轮播图与置于前景的查询模块，整体复刻官网 .section-first 区域。
      - 轮播图自动播放，并支持手动切换指示器。
      - 查询模块包含“车票”“常用查询”“订餐”三个侧边标签。
      - 在“车票”标签下提供单程、往返、中转换乘、退改签等 Tab，输入核心行程信息。
    ui_description: |
      参考图片路径: requirements/assets/0.首页设计/0.2.png
      轮播区域高度约 450px，查询模块以白色卡片形式悬浮在轮播前景中央偏左位置。
    scenarios:
      - name: 自动轮播与指示器切换
        steps:
          - action: 用户不进行任何操作停留在首页
            expectation: 轮播图每隔固定时间自动切换，指示器高亮同步变更。
      - name: 切换查询侧边标签
        steps:
          - action: 用户点击“车票”“常用查询”“订餐”侧边标签
            expectation: 查询模块右侧内容随标签切换，当前标签高亮。
    children:
      - id: REQ-0-2-1
        name: 车票查询首屏表单
        functional_description: |
          在“车票”标签下，提供首屏快速查询表单:
          - 出发地与到达地文本输入框，支持城市选择与互换。
          - 出发日期选择器，仅允许选择当天及之后日期。
          - 学生票勾选框。
          点击“查询”按钮后，通过路由跳转将条件传递给车票查询模块。
        ui_description: |
          参考图片路径: requirements/assets/0.首页设计/0.2.1.png
          表单整体为竖向排列，右侧提供“查询”主按钮，按钮颜色与官网一致。
        scenarios:
          - name: 从首屏表单跳转到车票查询列表
            steps:
              - action: 在首页首屏表单填写出发地、到达地与日期后点击“查询”
                expectation: 路由跳转到车票查询页面，输入值正确带入，查询结果与 REQ-1 行为保持一致。

      - id: REQ-0-2-2
        name: 常用查询与订餐标签
        functional_description: |
          在“常用查询”“订餐”等标签下，预留与官网一致的功能入口布局。
          当前实现允许点击和切换，但多数业务入口为占位或跳转到待开发页面。
        ui_description: |
          参考图片路径: requirements/assets/0.首页设计/0.2.2.png
          内容区域为列表或按钮组样式，图标与文字对齐，鼠标悬停时高亮。
        scenarios:
          - name: 标签切换与占位提示
            steps:
              - action: 点击“常用查询”或“订餐”标签
                expectation: 对应内容区域显示提示文案或占位入口，部分入口点击后在控制台输出“待实现”等信息。

  # ------------------------------------------
  # REQ-0-3: 页脚与版权信息 (LoginFooter)
  # ------------------------------------------
  - id: REQ-0-3
    name: 页脚与版权信息
    functional_description: |
      在页面底部展示统一的版权信息与若干常用链接。
      链接包括网站条款、隐私政策、客服电话等内容，部分链接为占位。
      页脚由 LoginFooter 组件提供，应在全站页面复用，以保证版权信息与底部链接的一致性。
    ui_description: |
      参考图片路径: requirements/assets/0.首页设计/0.3.png
      页脚背景为浅灰或白色，文字颜色为深灰，链接悬停时变为蓝色。
    scenarios:
      - name: 点击页脚链接
        steps:
          - action: 点击页脚中的某个链接
            expectation: 控制台输出对应链接名称或跳转到外部页面，用于后续扩展与替换为真实链接。
